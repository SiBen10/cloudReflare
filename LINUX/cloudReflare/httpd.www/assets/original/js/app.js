let sSLo = false;let helpmsg = false;let crBy = 'Created by';let cNMsg = 'Click anywhere on the page to close';let uNOMsg = 'Records updated successfully';const coEL = document.querySelector('#container');const cfBlE = document.querySelector('#cf_block');const lSE = document.querySelector('#language_select');const qIE = document.querySelector('#question_img');const ipdake = document.querySelector('#ipdata_api_key');const ipAds = document.querySelector('#ip_address');const mEl = document.querySelector('#minutes');const sSeLm = document.querySelector('#save_settings');const sme = document.querySelector('#start_monitor');qIE.addEventListener('click', function(){this.style.display = 'none';lSE.style.display = 'none';const hPE = document.querySelector('#home_page');hPE.style.transition = '.5s';hPE.style.opacity = '0';setTimeout(() => {hPE.style.display = 'none';}, 501);fetch('/index.php?route=help', {method: 'POST',body: { request: 'true' },}).then((response) => response.text()).then((d) => {const helpPageEl = document.createElement('div');helpPageEl.id = 'help_page';helpPageEl.innerHTML = d;helpPageEl.style.position = 'absolute';helpPageEl.addEventListener('click', function(){sHP(hPE, this);});coEL.prepend(helpPageEl);if (!helpmsg) {const clickNotice = document.createElement('div');sUN(cNMsg);}setTimeout(() => {helpPageEl.style.transition = '1s';helpPageEl.style.opacity = 1;}, 1);});});sSeLm.addEventListener('click', function(){const cgake = document.querySelector('#cloudflare_global_api_key');const czie = document.querySelector('#cloudflare_zone_id');const cdne = document.querySelector('#cloudflare_dns_name');const ceae = document.querySelector('#cloudflare_email_address');const arse = document.querySelector('#a_record_select');const ipdApiKey = ipdake.value.replace(/\s+/g, '');const cgak = cgake.value.replace(/\s+/g, '');const czi = czie.value.replace(/\s+/g, '');const cdns = cdne.value.replace(/\s+/g, '');const cea = ceae.value.replace(/\s+/g, '');const ars = arse.value.replace(/\s+/g, '');const ipAddress = ipAds.value.replace(/\s+/g, '');const minutes = mEl.value.replace(/\s+/g, '');if(ipdApiKey != '' && ars != '' && cgak != '' && czi != '' && cdns != '' && cea != '' && minutes > 0){ipdake.style.cssText = '';cgake.style.cssText = '';czie.style.cssText = '';cdne.style.cssText = '';ceae.style.cssText = '';arse.style.cssText = '';mEl.style.cssText = '';fD = new FormData();fD.append('ipdata_api_key', ipdApiKey);fD.append('cloudflare_id', ars);fD.append('cloudflare_global_api_key', cgak);fD.append('cloudflare_zone_id', czi);fD.append('cloudflare_dns_name', cdns);fD.append('cloudflare_email_add', cea);fD.append('settings_current_ip', ipAddress);fD.append('settings_minutes', minutes);fetch('/index.php?route=saveSettings', {method: 'POST',body: fD,}).then((response) => response.text()).then((d) => {sme.removeAttribute('disabled');sUN(uNOMsg);});}else{ipdake.style.cssText = (ipdApiKey.length === 0)? 'outline:1px solid red;' : '';cgake.style.cssText = (cgak.length === 0)? 'outline:1px solid red;' : '';czie.style.cssText = (czi.length === 0)? 'outline:1px solid red;' : '';cdne.style.cssText = (cdns.length === 0)? 'outline:1px solid red;' : '';ceae.style.cssText = (cea.length === 0)? 'outline:1px solid red;' : '';arse.style.cssText = (ars.length === 0)? 'outline:1px solid red;' : '';mEl.style.cssText = (minutes < 1)? 'outline:1px solid red;' : '';}});lSE.addEventListener('change', function(){l('mainLoad');fD = new FormData();fD.append('language', this.value.replace(/\s+/g, ''));fetch('/index.php?route=changeLanguage', {method: 'POST',body: fD,}).then((response) => response.text()).then((d) => {document.location.href='/';});});mEl.addEventListener('change', function(){if(document.querySelector('#minute_s')){document.querySelector('#minute_s').innerText = (this.value != 1)? 's' : '';}if(document.querySelector('#minute_n')){document.querySelector('#minute_n').innerText = (this.value != 1)? 'n' : '';}if(document.querySelector('#minute_io')){document.querySelector('#minute_io').innerText = (this.value != 1)? 'i' : 'o';}});mEl.addEventListener('keyup', function(){if(document.querySelector('#minute_s')){document.querySelector('#minute_s').innerText = (this.value != 1)? 's' : '';}if(document.querySelector('#minute_n')){document.querySelector('#minute_n').innerText = (this.value != 1)? 'n' : '';}if(document.querySelector('#minute_io')){document.querySelector('#minute_io').innerText = (this.value != 1)? 'i' : 'o';}});sme.addEventListener('click', function(){sm();});function homeInit(){lss();if(document.querySelector('#minute_s')){document.querySelector('#minute_s').innerText = (mEl.value != 1)? 's' : '';}dr();cr();arpc();}function sm(){let cd;let rt;if(!sme.disabled){if(document.querySelector('#monitor_page')){document.querySelector('#monitor_page').remove();}l('mainLoad');fD = new FormData();fD.append('request', true);fetch('/index.php?route=startMonitor', {method: 'POST',body: fD,}).then((response) => response.text()).then((d) => {const hPE = document.querySelector('#home_page');hPE.style.transition = '.5s';hPE.style.opacity = '0';qIE.style.transition = '.5s';qIE.style.opacity = '0';lSE.style.transition = '.5s';lSE.style.opacity = '0';setTimeout(() => {hPE.style.display = 'none';qIE.style.display = 'none';lSE.style.display = 'none';document.querySelector('#mainLoad').remove();document.querySelector('#lightBack').remove();const mEL = document.createElement('div');mEL.id = 'monitor_page';mEL.innerHTML = d;coEL.prepend(mEL);fD = new FormData();fD.append('request', true);fetch('/index.php?route=fetchTimer', {method: 'POST',body: fD,}).then((response) => response.text()).then((d) => {const seEL = document.querySelector('#seconds');cd = setInterval(() => {seEL.innerText = parseInt(seEL.innerText) - 1;if(document.querySelector('#monitor_seconds_s')){document.querySelector('#monitor_seconds_s').innerText = (seEL.innerText != '1')? 's' : '';}if(document.querySelector('#monitor_seconds_n')){document.querySelector('#monitor_seconds_n').innerText = (seEL.innerText != '1')? 'n' : '';}if(document.querySelector('#monitor_seconds_io')){document.querySelector('#monitor_seconds_io').innerText = (seEL.innerText != '1')? 'i' : 'o';}}, 1000);rt = setTimeout(() => {clearInterval(cd);clearTimeout(rt);sm();}, d * 60 * 1000);});if(document.querySelector('#go_back')){document.querySelector('#go_back').addEventListener('click', function(){clearInterval(cd);clearTimeout(rt);sHP(hPE, mEL);});}}, 501);});}}function sHP(hE, tE){rIPA();hE.style.opacity = 0;hE.style.position = 'fixed';tE.style.position = 'fixed';tE.style.width = 'calc(100vw - 50px)';tE.style.transition = '.5s';tE.style.opacity = 0;setTimeout(() => {hE.style.transition = '.5s';hE.style.opacity = 1;qIE.style.cssText = '';lSE.style.cssText = '';cssText}, 451);setTimeout(() => {tE.remove();}, 501);setTimeout(() => {hE.style.cssText = '';}, 302);}function rIPA(){fD = new FormData();fD.append('request', true);fetch('/index.php?route=resetIPaddress', {method: 'POST',body: fD,}).then((response) => response.text()).then((d) => {ipAds.value = d;});}function sUN(msg){const uNO = document.createElement('div');uNO.id = 'notice';uNO.innerText = msg;setTimeout(() => {uNO.style.cssText = 'transition:.8s; opacity:0;';}, 2001);setTimeout(() => {uNO.remove();}, 2901);document.body.append(uNO);}function dr(){if(document.querySelector('#delete_record')){document.querySelector('#delete_record').addEventListener('click', function(){fD = new FormData();fD.append('cloudflare_id', document.querySelector('#a_record_select').value.replace(/\s+/g, ''));fetch('/index.php?route=deleteRecord', {method: 'POST',body: fD,}).then((response) => response.text()).then((d) => {sUN(uNOMsg);cfBlE.innerHTML = d;setTimeout(() => {dr();cr();arpc();}, 5);});});}else{sme.disabled = true;}}function arpc(){document.querySelector('#record_plus').addEventListener('click', function(){const cgake = document.querySelector('#cloudflare_global_api_key');const czie = document.querySelector('#cloudflare_zone_id');const cdne = document.querySelector('#cloudflare_dns_name');const ceae = document.querySelector('#cloudflare_email_address');const arse = document.querySelector('#a_record_select');const cgak = cgake.value.replace(/\s+/g, '');const czi = czie.value.replace(/\s+/g, '');const cdns = cdne.value.replace(/\s+/g, '');const cea = ceae.value.replace(/\s+/g, '');const ars = arse.value.replace(/\s+/g, '');if(ars != '' && cgak != '' && czi != '' && cdns != '' && cea != ''){fD = new FormData();fD.append('cloudflare_id', ars);fD.append('cloudflare_global_api_key', cgak);fD.append('cloudflare_zone_id', czi);fD.append('cloudflare_dns_name', cdns);fD.append('cloudflare_email_add', cea);fetch('/index.php?route=recordPlus', {method: 'POST',body: fD,}).then((response) => {return response.text()}).then((d) => {sUN(uNOMsg);cfBlE.innerHTML = d;setTimeout(() => {dr();cr();arpc();sme.removeAttribute('disabled');}, 5);});}else{cgake.style.cssText = (cgak.length === 0)? 'outline:1px solid red;' : '';czie.style.cssText = (czi.length === 0)? 'outline:1px solid red;' : '';cdne.style.cssText = (cdns.length === 0)? 'outline:1px solid red;' : '';ceae.style.cssText = (cea.length === 0)? 'outline:1px solid red;' : '';arse.style.cssText = (ars.length === 0)? 'outline:1px solid red;' : '';}});}function cr(){const arse = document.querySelector('#a_record_select');arse.onchange = function(){fD = new FormData();fD.append('cloudflare_id', arse.value.replace(/\s+/g, ''));fetch('/index.php?route=changeRecord', {method: 'POST',body: fD,}).then((response) => response.text()).then((d) => {cfBlE.innerHTML = d;setTimeout(() => {dr();cr();arpc();}, 5);});}}function lss(){if(!sSLo){const sSBG = document.createElement('div');sSBG.id = 'splashScreenBackground';sSBG.align = 'center';document.body.prepend(sSBG);const cBSp = document.createElement('span');cBSp.id = 'createdBySpan';cBSp.innerText = crBy;sSBG.append(cBSp);const sLog = document.createElement('img');sLog.id = 'splashLogo';sLog.src = '/assets/images/splashLogo.png';sSBG.append(sLog);const oSpN = document.createElement('span');oSpN.id = 'ozboSpan';oSpN.innerText = 'ozboware';sSBG.append(oSpN);setTimeout(() => {cBSp.style.opacity = 1;sLog.style.opacity = 1;oSpN.style.opacity = 1;}, 1);setTimeout(() => {sSBG.style.opacity = 0;}, 2500);setTimeout(() => {sSBG.remove();}, 3501);sSLo = true;}}function l(id){let lBK = document.createElement('div');lBK.id = 'lightBack';lBK.className = 'lightBack';container.append(lBK);setTimeout(() => {lBK.style.opacity = 0.5;}, 1);let lDsPy = document.createElement('div');lDsPy.id = id;lDsPy.className = 'loading';container.append(lDsPy);for(let i = 1; i <= 11; i++){let span = document.createElement('span');span.innerText = '.';lDsPy.append(span);}}